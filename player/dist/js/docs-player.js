angular.module("docsPlayer",["ui.router","book"]).provider("fastclick",function(){FastClick.attach(document.body),this.$get=function(){return{}}}).provider("runtimeStates",["$stateProvider",function(t){this.$get=[function(){return{addState:function(e,o){t.state(e,o)}}}]}]).config(["$stateProvider","fastclickProvider","$locationProvider",function(t,e,o){o.html5Mode(!0),t.state("main",{url:"/",templateUrl:"tpl/empty",onEnter:function(){alert("main")}})}]).controller("AppCtrl",["$scope","runtimeStates","$http","$location","$state",function(t,e,o,r,n){o.get("/docs/books.json").then(function(o){for(var a=t.books=o.data,i=null,l=0;l<a.length;l++)for(var c=a[l],s=c.chapters,u=0;u<s.length;u++){var d=s[u],f=d.permalink;d.state="state"+l+"-"+u,e.addState(d.state,{url:f,templateUrl:d.fileUrl}),f===r.url()&&(i=d.state)}i&&n.go(i)})}]);
angular.module("book",["chapter"]).directive("book",function(){return{scope:{book:"="},replace:!0,templateUrl:"tpl/book",controller:["$scope",function(o){o.expanded=!1,o.toggleExpanded=function(){console.log("toggle"),o.expanded=!o.expanded}}],link:function(){console.log("book")}}});
angular.module("chapter",[]).directive("chapter",function(){return{scope:{chapter:"="},replace:!0,templateUrl:"tpl/chapter",controller:["$scope","$state",function(e,t){e.expanded=t.is(e.chapter.state),e.selectChapter=function(){e.expanded=!e.expanded,t.go(e.chapter.state)}}]}});